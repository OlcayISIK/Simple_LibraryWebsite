var books =[
  {
      image:"lotr1.jpg",
      name:"Lord Of The Rings The FellowShip Of The Ring",
      stock:"Stock: 3",
      Summary:"The Fellowship of the Ring is the first of three volumes in The Lord of the Rings, an epic set in the fictional world of Middle-earth. The Lord of the Rings is an entity named Sauron, the Dark Lord, who long ago lost the One Ring that contains much of his power. His overriding desire is to reclaim the Ring and use it to enslave all of Middle-earth.The story of The Lord of the Rings begins with several events that take place in The Hobbit. While wandering lost in a deep cave, Bilbo Baggins, a Hobbit—one of a small, kindly race about half the size of Men—stumbles upon a ring and takes it back with him to the Shire, the part of Middle-earth that is the Hobbits’ home. All Bilbo knows of his ring is that wearing it causes him to become invisible. He is unaware that it is the One Ring, and is therefore oblivious to its significance and to the fact that Sauron has been searching for it.The Fellowship of the Ring opens with a party for Bilbo’s 111th birthday. Bilbo gives his ring to his heir, his cousin Frodo Baggins. When the time comes to part with the ring, however, Bilbo becomes strangely reluctant to do so. He gives up the ring only at the determined urging of his friend, Gandalf the Grey, a great Wizard. Gandalf suspects that the ring is indeed the One Ring of legend. After confirming his suspicions, he tells Frodo that the Ring must be taken away from the Shire, as Sauron’s power is growing once again.",
      Score:5.0
    },
    {
      image:"lotr2.jpg",
      name:"Lord Of The Rings Two Tower",
      stock:"Stock: 5",
      Summary:"As Frodo and Sam leave, a band of orcs captures Merry and Pippin and kills Boromir. Aragorn, Legolas, and Gimli decide to let the Ringbearer go and instead rescue Merry and Pippin. Aragorn, Legolas, and Gimli pursue the orcs as they run across the fields of Rohan toward Saruman's fortress at Isengard. They find evidence that the orcs of Sauron and Saruman have quarreled and that either one hobbit is still alive, but they begin to lose hope as they fall farther and farther behind. After three days of running with little rest, they meet a troop of the riders of Rohan. The horsemen's leader, Éomer, informs the trio that the orcs were destroyed on the edge of Fangorn forest, with no survivors. He lends them horses to continue the pursuit, but offers little hope that the hobbits escaped the battle.Although treated roughly by the orcs, Merry and Pippin remain unharmed. When the Rohirrim attack, the hobbits run to the safety of the forest. They eventually make their way through the dense woodland to a stony hill where they meet Treebeard the Ent. This ancient being looks like a walking and talking tree and is the guardian of the forest. He does not particularly care about Sauron, but he takes the threat of Saruman very seriously. The wizard once cared for the forest and learned much from Treebeard, but now he chops down the trees to fuel the war machines of Isengard. Treebeard calls an Entmoot, a meeting of many Ents who decide to fight Saruman.",
      Score:4.8
    },
    {
      image:"lotr3.jpg",
      name:"Lord Of The Rings Return Of The King",
      stock:"Stock: 2",
      Summary:"To keep Pippin out of further trouble, Gandalf rides with him to Minas Tirith, the city that Sauron's armies will soon besiege. They meet with Boromir's father Denethor, the Ruling Steward of Gondor, and in gratitude for Boromir's sacrifice (saving them from the orcs at Parth Galen), Pippin pledges his service to the steward as a Guard of the White Tower. Denethor does not trust Gandalf, and he knows that the wizard has brought Aragorn to reclaim the throne. Faramir returns to the city, wearied from fighting, and reports his encounter with Frodo. Angry that his son did not bring the Ring to Gondor, Denethor sends the exhausted captain back into the field to lead a rearguard action against the oncoming army. When they make their last dash for the safety of the gates, Gandalf rides out to defend them from the flying Nazgûl, but Faramir falls at the gates.The Riders of Rohan muster their forces, preparing to ride to the aid of Minas Tirith, and Merry strikes up a friendship with Théoden. Aragorn realizes that he must take the Paths of the Dead if he is to reach Minas Tirith in time to lift the siege. He takes the evil road with Legolas, Gimli, and the Dúnedain (a group of Rangers) who have joined him from the North, but the Rohirrim are convinced that he has gone to his own death. Théoden leaves behind Merry and his niece Éowyn, claiming that neither can help in the battle, but a young rider offers to carry Merry. With the aid of a strange tribesman, the Rohirrim find a forgotten road and arrive just in time to surprise the besieging army at Minas Tirith.",
      Score:4.9
    },
    {
      image:"harry1.jpg",
      name:"Harry Potter and Philosopher's Stone",
      stock:"Stock: 2",
      Summary:"Ten-year-old Harry Potter is an orphan who lives in the fictional London suburb of Little Whinging, Surrey, with the Dursleys: his uncaring Aunt Petunia, loathsome Uncle Vernon, and spoiled cousin Dudley. The Dursleys barely tolerate Harry, and Dudley bullies him. One day Harry is astonished to receive a letter addressed to him in the cupboard under the stairs (where he sleeps). Before he can open the letter, however, Uncle Vernon takes it. Letters for Harry subsequently arrive each day, in increasing numbers, but Uncle Vernon tears them all up, and finally, in an attempt to escape the missives, the Dursleys go to a miserable shack on a small island. On Harry’s 11th birthday, a giant named Hagrid arrives and reveals that Harry is a wizard and that he has been accepted at the Hogwarts School of Witchcraft and Wizardry. He also sheds light on Harry’s past, informing the boy that his parents, a wizard and a witch, were killed by the evil wizard Voldemort and that Harry acquired the lightning-bolt scar on his forehead during the fatal confrontation.Upon arrival at the school, the students are sorted into one of four houses—Gryffindor, Hufflepuff, Ravenclaw, or Slytherin. Harry ends up in Gryffindor, and during his eventful first year at Hogwarts he becomes close friends with two other members of the house, Ron Weasley, who comes from an old wizarding family, and Hermione Granger, whose parents are Muggles (those who are not magical). Harry also finds that he has an enemy in Draco Malfoy (Slytherin).",
      Score:4.3
    },
    {
      image:"harry2.jpg",
      name:"Harry Potter and Chamber Of Secrets",
      stock:"Stock: 5",
      Summary:"Harry Potter and the Chamber of Secrets begins when Harry is spending a miserable summer with his only remaining family, the Dursleys. During a dinner party hosted by his uncle and aunt, Harry is visited by Dobby, a house-elf. Dobby warns Harry not to return to Hogwarts, the magical school for wizards that Harry attended the previous year. Harry politely disregards the warning, and Dobby wreaks havoc in the kitchen, infuriating the Dursleys. The Dursleys angrily imprison Harry in his room for the rest of the summer. Luckily, Harry's friend Ron Weasley steals Harry away in a flying car, and Harry happily spends the rest of the summer at the Weasley home. While shopping for school supplies with the Weasleys, Harry has two unfortunate encounters. He first encounters Lockhart, one of his teachers, who demands to be in a photo shoot with Harry. Harry then encounters Lucius Malfoy, the evil father of one of Harry's enemies, who almost starts a fight with Mr. Weasley. As Harry prepares to return to Hogwarts, he finds that he and Ron are unable to enter the magically invisible train platform, so they fly the Weasley car to Hogwarts. They land messily, and both boys are given detentions. Lockhart, who believes Harry flew the car to get attention, lectures Harry.",
      Score:4.4
    },
    {
      image:"harry3.jpg",
      name:"Harry Potter and Prisoner of Azkaban",
      stock:"Stock: 7",
      Summary:"Harry Potter and the Prisoner of Azkaban opens on the night before Harry's thirteenth birthday, when he receives gifts by Owl Post from his friends at school. The next morning at breakfast, Harry sees on television that a man named Black is on the loose from prison. At this time, Aunt Marge comes to stay with the Dursleys, and she insults Harry's parents numerous times. Harry accidentally causes her to inflate. Harry leaves the Dursley's house and is picked up by the Knight Bus, but only after an alarming sighting of a large, black dog. The Knight Bus drops Harry off at Diagon Alley, where he is greeted by Cornelius Fudge, the Minister of Magic. He rents a room and awaits the start of school. In Diagon Alley, Harry finishes his schoolwork, admires a Firebolt broomstick in the window of a shop, and after some time, finds his friends Ron and Hermione. At a pet shop, Hermione buys a cat named Crookshanks, who chases Scabbers, Ron's aging pet rat. Ron is most displeased. The night before they all head off to Hogwarts, Harry overhears Ron's parents discussing the fact that Sirius Black is after Harry.The students board the Hogwarts Express train and are stopped once by an entity called a Dementor. Harry faints and is revived by Professor Lupin, the new defense against the dark arts teacher. Soon afterward, the students arrive at Hogwarts and classes begin.",
      Score:4.3
    },
    {
      image:"harry4.jpg",
      name:"Harry Potter and The Goblet Of Fire",
      stock:"Stock: 2",
      Summary:"The story begins fifty years before the present day, with a description of how the Riddle family was mysteriously killed at supper, and their groundsman, Frank Bryce, was suspected of the crime, then declared innocent. Frank Bryce, now an elderly man, wakes in the night to see a light in the window of the abandoned Riddle House. He investigates and overhears Voldemort and Wormtail plotting to kill a boy named Harry Potter. Voldemort takes note of him and kills him on the spot. Harry Potter wakes up in the night with a throbbing pain in the scar Voldemort gave him. He worries that Voldemort is nearby, and he writes to Sirius Black, his godfather, mentioning the pain in his scar.",
      Score:4.6
    },
    {
      image:"harry5.jpg",
      name:"Harry Potter and The Order Of The Phoenix",
      stock:"Stock: 6",
      Summary:"Harry Potter is spending another tedious summer with his dreadful Aunt Petunia and Uncle Vernon when a group of evil spirits called “dementors” stage an unexpected attack on Harry and his cousin Dudley. After using magic to defend himself, Harry is visited by a group of wizards and whisked off to number twelve, Grimmauld Place, London. Number twelve is the home of Harry’s godfather, Sirius Black, and the headquarters of the Order of the Phoenix. The Order is a group of wizards, led by Hogwarts headmaster Albus Dumbledore, dedicated to fighting evil Lord Voldemort and his followers. The Order is forced to operate in secrecy, outside of the jurisdiction of the Ministry of Magic, which is headed by the dense and corrupt Cornelius Fudge. Fudge refuses to believe that Lord Voldemort has returned.Harry used magic to fight off the dementors, and since underage wizards are not permitted to use their wands outside of school, he must face a disciplinary hearing at the Ministry. With Dumbledore’s help, Harry is cleared and permitted to return to Hogwarts School of Witchcraft and Wizardry.",
      Score:4.3
    },
    {
      image:"harry6.jpg",
      name:"Harry Potter and The Half-Blood Prince",
      stock:"Stock: 1",
      Summary:"Lord Voldemort has returned to power, and his wrath has been felt in both the Muggle and Wizarding worlds. Severus Snape, long considered an enemy of Voldemort and a member of Dumbledore’s anti-Voldemort coalition, the Order of the Phoenix, meets with Narcissa Malfoy, mother of Draco and wife of Lucius, an imprisoned Death Eater. Snape makes an Unbreakable Vow to Narcissa, promising to protect her son, Draco.Dumbledore heads to 4 Privet Drive to collect Harry from his aunt and uncle. On their way to the Burrow, Harry and Dumbledore stop to recruit Horace Slughorn to return to teaching at Hogwarts. Harry is reunited with his best friends, Ron and Hermione. When shopping for schoolbooks, Harry runs into Draco and follows him to Borgin and Burkes, where he overhears Draco threatening Borgin and insisting that he fix an unknown object. Harry is instantly suspicious of Draco, whom he believes to be a Death Eater, just like his father. The students return to school, and Dumbledore announces that Snape will be teaching Defense Against the Dark Arts, much to Harry’s surprise.",
      Score:4.2
    },
    {
      image:"harry7.jpg",
      name:"Harry Potter and Deadly Hallows",
      stock:"Stock: 4",
      Summary:"At Malfoy Manor, Snape tells Voldemort the date that Harry’s friends are planning to move him from the house on Privet Drive to a new safe location, so that Voldemort can capture Harry en route.As Harry packs to leave Privet Drive, he reads two obituaries for Dumbledore, both of which make him think that he didn’t know Dumbledore as well as he should have. Downstairs, he bids good-bye to the Dursleys for the final time, as the threat of Voldemort forces them to go into hiding themselves.The Order of the Phoenix, led by Alastor “Mad-Eye” Moody, arrives to take Harry to his new home at the Weasleys’ house, the Burrow. Six of Harry’s friends take Polyjuice Potion to disguise themselves as Harry and act as decoys, and they all fly off in different directions. The Death Eaters, alerted to their departure by Snape, attack Harry and his friends. Voldemort chases Harry down, but Harry’s wand fends Voldemort off, seemingly without Harry’s help.",
      Score:4.6
    },

 ];
 var criticismlist =[
   {
   name:"New York Times",
   observation:"The works of J. R. R. Tolkien, especially The Hobbit and The Lord of the Rings, have exerted considerable influence since their publication. A culture of fandom sprang up in the 1960s, but reception by the establishment of literary criticism has been slower. Nevertheless, academic studies on Tolkien's works have been appearing at an increasing pace since the mid-1980s.",
   photo:"newyorktimes.jpg"
 },
 {
  name:"Academia.edu",
  observation:"This research paper will focus on an analysis of George R.RA Song of Ice And Fire, taking into account what inspired and influenced the author for this book, whichis the first volume of a successful series.",
  photo:"academia.jpg"
},
{
  name:"Reddit",
  observation:"Dumbledore and Snape prove that morality is most certainly not black and white in this world.My personal view of the series is that Harry and Voldemort did have to be strictly on one side or the other for the plot to work. The magic that revolves around them is constantly dependent on each characters view of love and death (their morals).",
  photo:"reddit.png"
},
{
  name:"BBC",
  observation:"One of the more interesting aspects of last week’s episode of Game of Thrones was in how suddenly it subverted expectations of how the show would end. For since its very first scene, Game of Thrones has apparently been building towards the Night King and his White Walkers: the huge existential threat that made everything else – the squabbling, the differences, the pursuits for power – look pathetic by comparison.",
  photo:"bbc.png"
},
];
var icons=['<i class="fas fa-trophy"></i>','<i class="fas fa-burn"></i>','<i class="fas fa-bullseye"></i>','<i class="fas fa-chess-king"></i>',
'<i class="fas fa-grin-stars"></i>','<i class="fas fa-cannabis"></i>','<i class="fas fa-certificate"></i>','<i class="fas fa-dragon"></i>',
'<i class="fab fa-earlybirds"></i>','<i class="fab fa-envira"></i>'];

function sortList() {
  var list, i, switching, b, shouldSwitch;
  list = document.getElementById("booklist");
  switching = true;
  while (switching) {
    switching = false;
    b = list.getElementsByTagName("LI");
    for (i = 0; i < (b.length - 1); i++) {
      shouldSwitch = false;
      if (b[i].innerHTML.toLowerCase() > b[i + 1].innerHTML.toLowerCase()) {
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      b[i].parentNode.insertBefore(b[i + 1], b[i]);
      switching = true;
    }
  }
}
var kitap=document.getElementById("bookli");
var sum = document.getElementById("summary");
var sumtext = document.getElementById("summarytext");
var criticism = document.getElementById("criticism");
function turnback(){
  sum.style.display="none";
  librarypage.style.opacity=1;
}
function addbook(){
    var bkimage = document.getElementById('bkimage').value;
    var bkname = document.getElementById('bkname').value;
    var bkstock = document.getElementById('bkstock').value;
    var bksummary = document.getElementById('bksummary').value;
    var addbtn = document.getElementById('addbutton');
    if(bkimage.includes(".jpg") && bkname != "" && bkstock!="" && bksummary!=""){
      window.alert("Book is Added");
      books.push(  {image:bkimage,name:bkname,stock:bkstock,Summary:bksummary,Score:"null"});
    }else {
      window.alert("Please Enter All The Fields Correctly")
    }
    
}
function refreshlist(){
var ul =document.getElementById("booklist");
if(ul.childNodes.length = books.length)
ul.innerHTML="";
for(var i=0;i<books.length;i++){
var li =document.createElement("li");
var img =document.createElement("img");
var namespan =document.createElement("span");
var stockspan =document.createElement("span");
var br =document.createElement("br");
img.setAttribute("class","picture");
namespan.setAttribute("id","bookname");
stockspan.setAttribute("class","Stock");
img.src=books[i].image;
namespannode=document.createTextNode(books[i].name);
stockspan =document.createTextNode(books[i].stock);
namespan.appendChild(namespannode);
li.appendChild(img);
li.appendChild(namespan);
li.appendChild(br);
li.appendChild(stockspan);
ul.appendChild(li);
}
$('ul#booklist span').click(function(){
 var check = $(this).text();
 for(var t =0;t<books.length;t++)
 if(check == books[t].name)
 sumtext.innerHTML=books[t].Summary;
 librarypage.style.opacity=0.5;
 sum.style.opacity=1;
 sum.style.zIndex=2;
sum.style.display="inline"
});
}


function searchbooks(){
  var input, filter, ul, li, a, i, txtValue;
  input = document.getElementById("search-box");
  filter = input.value.toUpperCase();
  ul = document.getElementById("booklist");
  li = ul.getElementsByTagName("li");
  for (i = 0; i < li.length; i++) {
      a = li[i].getElementsByTagName("span")[0];
      txtValue = a.textContent || a.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
      } else {
        li[i].style.display = "none";
      }
  }
}

var donatepage = document.getElementById("donatebodydiv");
var librarypage = document.getElementById("librarybodydiv");
var commentpage = document.getElementById("commnetbodydiv");
function changedivs(){
  donatepage.style.display="inline";
  librarypage.style.display="none";
  commentpage.style.display="none";
}

function gohome(){
  donatepage.style.display="none";
  librarypage.style.display="inline";
  commentpage.style.display="none";
}

function gocomment(){
  commentpage.style.display="inline";
  librarypage.style.display="none";
  donatepage.style.display="none";
}

function comboBox(){
  var sel = document.getElementById('commentform');
  var opt = null;
  for(i = 0; i<books.length; i++) {
      opt = document.createElement('option');
      opt.value = books[i].name;
      console.log("girdi");
      opt.innerHTML = books[i].name;
      sel.appendChild(opt);
  }
}
function sortbookscore(property,order) {
  var sort_order = 1;
  if(order === "desc"){
      sort_order = -1;
  }
  return function (a, b){
      if(books[property] < books[property]){
              return -1 * sort_order;
      }else if(a[property] > b[property]){
              return 1 * sort_order;
      }else{
              return 0 * sort_order;
      }
  }
}
function createscoretable(){
var table = document.createElement('TABLE');
table.setAttribute("id","scoretable");
var tblb = document.createElement('TBODY');
table.appendChild(tblb);
var tbhd = document.createElement('THEAD');
table.appendChild(tbhd);
var th3 = document.createElement('TH');
th3.innerHTML='<i class="fas fa-star"></i>';
tbhd.appendChild(th3);
  var th = document.createElement('TH');
  th.innerHTML="BookName";
  tbhd.appendChild(th);
  var th2 = document.createElement('TH');
  th2.innerHTML="Score";
  tbhd.appendChild(th2);
for(var c=0;c<10;c++){
  var tr=document.createElement('TR');
  tblb.appendChild(tr);
  for(var a=0;a<3;a++){
    var td = document.createElement('TD');
    tr.appendChild(td);
  }
}
criticism.appendChild(table);
books.sort(sortbookscore("Score","desc"));
for(var k=0;k<10;k++){
document.getElementById("scoretable").rows[k].cells[0].innerHTML=icons[k];
document.getElementById("scoretable").rows[k].cells[1].innerText=books[k].name;
document.getElementById("scoretable").rows[k].cells[2].innerText=books[k].Score;
}
}    
   
function createcommenttable(){
  var ul =document.getElementById("commentlist");
  if(ul.childNodes.length = criticismlist.length)
  ul.innerHTML="";
  for(var i=0;i<criticismlist.length;i++){
  var li =document.createElement("li");
  var img =document.createElement("img");
  var commentspan =document.createElement("span");
  var br =document.createElement("br");

  img.setAttribute("class","picture");
  commentspan.setAttribute("id","bookname");
  img.src=criticismlist[i].photo;
  namespan=document.createTextNode(criticismlist[i].name);
  stockspan =document.createTextNode(criticismlist[i].observation);
  li.appendChild(img);
  li.appendChild(namespan);
  li.appendChild(br);
  li.appendChild(stockspan);
  ul.appendChild(li);
}
}

function controlcomment(){
  var com = document.getElementById('makecomment').value;
  if(com != ""){
    window.alert("Your Comments are Under Review");
  }
  else {
    window.alert("Please Make Your Comment");  
  }
}

var point = document.getElementById("score");
opt = document.createElement('option');
opt2 = document.createElement('option');
opt3 = document.createElement('option');
opt4 = document.createElement('option');
opt5 = document.createElement('option');
opt.value = "1";
opt.innerHTML ="1";
point.appendChild(opt);
opt2.value = "2";
opt2.innerHTML ="2";
point.appendChild(opt2);
opt3.value = "3";
opt3.innerHTML ="3";
point.appendChild(opt3);
opt4.value = "4";
opt4.innerHTML ="4";
point.appendChild(opt4);
opt5.value = "5";
opt5.innerHTML ="5";
point.appendChild(opt5);

function slider(){
  $current=$('.container img.active');
  if($current.length==0){
    $('.container img:first-child').addClass('active');
  } else{
    $next=$current.removeClass('active').next();
    if($next.length==0){
      $('container img:first-child').addClass('active');
    } else{
      $next.addClass('active');
    }
  }
}
setInterval(slider,2000);
